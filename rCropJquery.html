<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rcrop Example</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- <link  href="/path/to/cropper.css" rel="stylesheet"> -->
    <style>
      .container{
        max-width: 50% !important;
    margin: 0px auto !important;
    background: red;
    display: flex;
    align-items: center;
    height: 40vh;
    justify-content: center;

      }
      .display{
        /* display: none !important; */
        opacity: 0;
        visibility: hidden;
        transform: translate(-110px, 0%);
      }
      .transform{
    
        transform: translate(0px, -100%);
      }
    </style>


</head>
<body>
<div class="container position-relative overflow-hidden">
<div id="rcrop-container" class="cropper-container position-absolute top-0 bottom-0 left-0 right-0">
    <img id="image-4" src="/download.jpg" class="image-4" alt="Your Image">

<img src="" id="crop-image" class="image-4" alt="">

</div>

</div>
<button id="cropButton" onclick="crop()"> Crop Button</button>
<button id="cropButton" onclick="save()"> Save Button</button>


<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropper/4.1.0/cropper.js"></script>
<script>
function crop(){
   var $image = $('#image-4');
    $image.cropper({
  
    });
}
   // Add mouse wheel event listener for zooming
   document.querySelector('.cropper-container').addEventListener('wheel', function (event) {
            event.preventDefault();

            // Calculate zoom factor (adjust this value according to your needs)
            var zoomFactor = 0.1;

            // Increase or decrease the zoom level based on the wheel direction
            var delta = event.deltaY || event.detail || event.wheelDelta;
            if (delta > 0) {
                cropper.zoom(-zoomFactor);
            } else {
                cropper.zoom(zoomFactor);
            }
        });
    
function save(){
  var $image = $('#image-4');
console.log(document.getElementById('image-4').src)

var croppedData = $image.cropper('getCroppedCanvas').toDataURL('image/jpeg');
// document.getElementById('image-4').classList.add('display')
// document.getElementById('crop-image').classList.add('transform')

// document.getElementById('image-4').src = " "

document.getElementById('image-4').src = croppedData
var cropper = $image.cropper({});

  cropper.destroy();


         


}

// $(document).ready(function () {
//       console.log("Jquery Is running")

  

//     $('#cropButton').click(function () {
//         console.log($image.cropper('getCroppedCanvas'))
//       // Get the cropped data
//       var croppedData = $image.cropper('getCroppedCanvas').toDataURL('image/jpeg');
// document.getElementById("crop-image").src = croppedData
//       // Use the cropped data as needed (e.g., save it, display it, etc.)
//       console.log('Cropped Image Data:', croppedData);
//     });




//     });

</script>


</body>
</html>