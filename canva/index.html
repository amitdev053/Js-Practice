<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create your Leads Design</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="//unpkg.com/grapesjs/dist/css/grapes.min.css">
    <link rel="stylesheet" href="./external.css">
</head>

<body>
    <!-- Header Section Start Here-------------------------------------------------->
    <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top navbartag ">
        <div class="container-fluid">
            <div class="logo_img">
                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg" alt="">
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse nav_item_main_div" id="navbarSupportedContent">
                <ul class="navbar-nav mb-2 mb-lg-0 ">
                    <li class="nav-item">
                        <a class="nav-link active " aria-current="page">Home</a>
                    </li>
                    <li class="nav-item navbar_dropdown">
                        <a class="nav-link" href="Desgin">Template <i
                                class="fa-solid fa-angle-down dropdown_icon"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Desgin">Collection</a>
                    </li>
                    <li class="nav-item navbar_dropdown">
                        <a class="nav-link" href="explore">Explore <i
                                class="fa-solid fa-angle-down dropdown_icon"></i></a>
                    </li>
                </ul>
                <div class="form-check form-switch">
                    <button>Create a desgin</button>



                </div>
            </div>
    </nav>
    <!-- header Section End Here  ------------------------------------------->
    <!-- Side bar and content area start here------------------------------------->
    <div class="conatiner set_overflow_y">
        <div class="row position-relative w-100">
            <div class="col-3 sidebar_menu_col3">
                <div class="row p-0 sidebar_inner_element_row">
                    <div class="col-1 sidebar_menu_link_div">
                        <!-- SideBar clicked Menu Start Here  -->
                        <div class="link_div show_element_menu sidemenu_active" onclick="showPhotosElement(this)">
                            <i class="fa-solid fa-clapperboard"></i>
                            <span>Photos</span>
                        </div>
                        <div class="link_div " onclick="showPhotosElement(this)">
                            <i class="fa-solid fa-clapperboard"></i>
                            <span>Uploads</span>
                        </div>
                        <div class="link_div" onclick="showPhotosElement(this)">
                            <i class="fa-solid fa-clapperboard"></i>
                            <span>Text</span>
                        </div>
                        <!-- SideBar clicked Menu Start Here  -->


                    </div>
                    <!-- Photo Menu elements Div start here  -->

                    <div class="col-2 sidebar_element_div " id="PhotosElement">

                        <div class="row sidebar_element_row" id="photosElementRow">
                            <div class="col-12 p-0 sidebar_heading_div">
                                <div class="app_sidebar_heading">Choose For Design</div>
                                <i class="fa-solid fa-arrow-down-wide-short" onclick="filterData()"></i>
                            </div>

                            <div class="button_div_display_block" id="loader">
                                <div class="spinner-border position-absolute top-20 left-50" role="status"><span
                                        class="visually-hidden">Loading...</span>
                                </div>
                            </div>

                            <!-- <div class="col-4 p-0 element_image_cols">
                                <img src="../download.jpg" alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    class="img-fluid" alt="" />
                            </div> -->
                        </div>
                    </div>
                    <!-- Photos Menu elements Div start here  -->


                    <!-- Upload Menu elements Div start here  -->
                    <div class="col-2 sidebar_element_div hide_element_div" id="UploadElement">
                        <div class="row sidebar_element_row">
                            <div class="col-12 p-0 sidebar_heading_div">
                                <div class="app_sidebar_heading">Uploaded Image</div>
                                <i class="fa-solid fa-camera"></i>
                            </div>
                            <div class="button_div position-relative">                             

                                <button class="upload_btn" onclick="uploadUserImage()">Upload Image <i class="fa-solid fa-camera"></i></button>
                                <input type="file" id="imageUpload" class="position-absolute upload_image_input" (change)="uploadTImage($event)"
                                accept="image/*" multiple>
                            </div>


                          <div class="col-4 p-0 element_image_cols">
                                <img src="../download.jpg" alt="" class="img-fluid" onclick="setImage(this)" dragabble="true" />
                            </div>
                              <!-- <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    class="img-fluid" alt="" />
                            </div> -->
                        </div>
                    </div>



                    <!-- Upload Menu elements Div end here  -->


                    <!-- Text Menu elements Div start here  -->
                    <div class="col-2 sidebar_element_div hide_element_div" id="TextElement">


                        <div class="row sidebar_element_row">

                            <div class="col-12 p-0 sidebar_heading_div">
                                <div class="app_sidebar_heading">Style Your Text</div>
                                <i class="fa-solid fa-camera"></i>
                            </div>
                            <div class="button_div">
                                <button class="upload_btn" onclick="addText()">Add Text <i class="fa-solid fa-camera"></i></button>
                            </div>



                            <!-- <div class="col-4 p-0 element_image_cols">
                                <img src="../download.jpg" alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    alt="" class="img-fluid" />
                            </div>
                            <div class="col-4 p-0 element_image_cols">
                                <img src="https://static.canva.com/web/images/12487a1e0770d29351bd4ce4f87ec8fe.svg"
                                    class="img-fluid" alt="" />
                            </div> -->
                        </div>
                    </div>



                    <!-- Text Menu elements Div end here  -->

                </div>

            </div>
            
           
            <div class="col-9 Desigin_div_start position-relative" id="desginingPart">
              
                <!-- canvas pages Start Here -->
             
                <div class="deasginarea_div" id="CanvasOuterHeight">
                    <div class="objects_control position-absolute">
                        <div class="control_group_icon">
                            <i class="fa-solid fa-bold"   title="Bold"></i>
                            <i class="fa-solid fa-italic"   title="Italic"></i>
                            <i class="fa-solid fa-underline"   title="Underline"></i>
                            <input type="color" id="textColor" name="favcolor" class="fa-solid text_colorpicker" value="#000000"title="Change Text Color" onchange="setColor(this)">
                            <i class="fa-brands fa-slack"  title="Flip-X" onclick="setFlipX(event)"></i>
                            <i class="fa-brands fa-slack"  title="Flip-Y" onclick="setFlipY(event)"></i>

                        </div>
                    </div>
                    <div class="area_canvas_content">
                        <div class="top_counter d-flex justify-content-between align-items-center">
                            <span>Page 1</span>
                            <div class="right d-flex justify-content-between align-items-center set_width">
                                <i class="fa-solid fa-circle-plus" onclick="addPage()"></i>
                                <i class="fa-solid fa-trash"></i>
                            </div>
                        </div>
                        <div class="canvas_area selected_canvas_class" id="canvasArea" onclick="selectCanvas(this)"   ondragover="dragImageOver(event)" ondrop="dragImageDrop(event)" >
                              
                        </div>
                    </div>
                </div>
                <!-- canvas pages End Here -->

                
                 
                

            </div>
        </div>
    </div>


    <!-- Side bar and content area End here------------------------------------->




    <script src="./script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <script src="https://kit.fontawesome.com/1508b7bacb.js" crossorigin="anonymous"></script>
  <script>
    
// target elements with the "draggable" class
interact('#image-container')
  .draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    modifiers: [
      interact.modifiers.restrictRect({
        restriction: 'parent',
        endOnly: true
      })
    ],
    // enable autoScroll
    autoScroll: true,

    listeners: {
      // call this function on every dragmove event
      move: dragMoveListener,

      // call this function on every dragend event
      end (event) {
        var textEl = event.target.querySelector('p')

        textEl && (textEl.textContent =
          'moved a distance of ' +
          (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +
                     Math.pow(event.pageY - event.y0, 2) | 0))
            .toFixed(2) + 'px')
      }
    }
  })

function dragMoveListener (event) {
  var target = event.target
  // keep the dragged position in the data-x/data-y attributes
  var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx
  var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy

  // translate the element
  target.style.transform = 'translate(' + x + 'px, ' + y + 'px)'

  // update the posiion attributes
  target.setAttribute('data-x', x)
  target.setAttribute('data-y', y)
}

// this function is used later in the resizing and gesture demos
window.dragMoveListener = dragMoveListener

interact('#image-container').resizable({
    edges: { left: true, right: true, bottom: true, top: true },
    onmove: (event) => {
      const target = event.target;
      const x = (parseFloat(target.getAttribute('data-x')) || 0);
      const y = (parseFloat(target.getAttribute('data-y')) || 0);

      // Resize the image
      target.style.width = event.rect.width + 'px';
      target.style.height = event.rect.height + 'px';

      // Update data-x and data-y attributes
      target.setAttribute('data-x', x);
      target.setAttribute('data-y', y);
    },
  });

  interact('#image-container').resizable({
    edges: { left: true, right: true, bottom: true, top: true },
    // Add custom handles
    modifiers: [
      interact.modifiers.aspectRatio({ ratio: 'preserve' }),
      interact.modifiers.restrictEdges({
        outer: 'parent',
      }),
    ],
    onmove: (event) => {
      // Same as previous onmove logic
    },
  });



  
interact('.element')
  .draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    modifiers: [
      interact.modifiers.restrictRect({
        restriction: 'parent',
        endOnly: true
      })
    ],
    // enable autoScroll
    autoScroll: true,

    listeners: {
      // call this function on every dragmove event
      move: dragMoveListener,

      // call this function on every dragend event
      end (event) {
        var textEl = event.target.querySelector('p')

        textEl && (textEl.textContent =
          'moved a distance of ' +
          (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +
                     Math.pow(event.pageY - event.y0, 2) | 0))
            .toFixed(2) + 'px')
      }
    }
  })

function dragMoveListener (event) {
  var target = event.target
  // keep the dragged position in the data-x/data-y attributes
  var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx
  var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy

  // translate the element
  target.style.transform = 'translate(' + x + 'px, ' + y + 'px)'

  // update the posiion attributes
  target.setAttribute('data-x', x)
  target.setAttribute('data-y', y)
}

// this function is used later in the resizing and gesture demos
window.dragMoveListener = dragMoveListener




interact('.element').resizable({
    edges: { left: true, right: true, bottom: true, top: true },
    onmove: (event) => {
      const target = event.target;
      const x = (parseFloat(target.getAttribute('data-x')) || 0);
      const y = (parseFloat(target.getAttribute('data-y')) || 0);

      // Resize the image


      target.style.width = event.rect.width + 'px';
      target.style.height = event.rect.height + 'px';

      // Update data-x and data-y attributes
      target.setAttribute('data-x', x);
      target.setAttribute('data-y', y);
    },
  });

  interact('.element').resizable({
    edges: { left: true, right: true, bottom: true, top: true },
    // Add custom handles
    modifiers: [
      interact.modifiers.aspectRatio({ ratio: 'preserve' }),
      interact.modifiers.restrictEdges({
        outer: 'parent',
      }),
    ],
    onmove: (event) => {
      // Same as previous onmove logic
    },
  });





  </script>
</body>

</html>